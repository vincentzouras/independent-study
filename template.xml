<mujoco model="mochi">
  <compiler angle="radian" coordinate="local" meshdir="../assets/meshes/" />

  <!-- global physics parameters -->
  <option gravity="0 0 -9.81" timestep="0.002" integrator="Euler" />

  <!-- load external files -->
  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.4 0.6 0.8" rgb2="0 0 0" width="32" height="32" />
    <material name="wood" texture="your_texture_file.png" specular="0.5" shininess="0.5" />
    <mesh name="robot_hand" file="hand.stl" />
  </asset>

  <!-- set default attributes for different element types -->
  <!--   now, any joint or geom will be like below -->
  <default>
    <joint type="hinge" axis="0 1 0" limited="true" range="-90 90" />
    <geom type="capsule" rgba="0.8 0.2 0.2 1" size="0.05" />
    <default class="visual">
      <geom contype="0" conaffinity="0" group="1" />
    </default>
  </default>

  <!-- all physical objects in a hierarchy -->
  <worldbody>
    <!-- primary structural element, has mass and position -->
    <body name="base" pos="0 0 0.1">
      <!-- the geometry of a body: shape, appearance, collision properties
            type: sphere, box, cylinder, capsule, mesh
            size: dimesions of the shape
            rgba: color and transparency
            mass/density: inertial properties
            contype/conaffinity: bitmasks for collisions?      
      -->
      <geom type="box" size="0.1 0.1 0.1" />
    </body>

    <body name="upper_arm" pos="0 0 0.5">
      <!-- connects a body to its parent, defining its degrees of freedom 
            type: hinge (1d rotation), slide (1d translation), ball (3d rotation), free
            axis: axis of rotation or translation
            range: movement limits
      -->
      <!-- a body with no joint is welded to its parent -->
      <joint name="shoulder" type="hinge" axis="0 0 1" range="-45 45" />
      <geom type="capsule" fromto="0 0 0 0.5 0 0" size="0.05" />

      <body name="forearm" pos="0.5 0 0">
        <joint name="elbow" type="hinge" axis="0 1 0" range="0 135" />
        <geom type="capsule" fromto="0 0 0 0.4 0 0" size="0.04" />

        <!-- massless, collisionless point fixed to a body, good for attachment points -->
        <site name="hand" pos="0.4 0 0" size="0.01" />
      </body>
    </body>
  </worldbody>

  <!-- apply forces to the model -->
  <actuator>
    <motor name="shoulder_motor" joint="shoulder" gear="100" />
  </actuator>

  <!-- extract information from the simulation state 
        jointpos: angle of a joint
        jointvel: angular velocity of a joint
        touch: contact force on a site
        accelerometer: linear acceleration at a site
        gyro: angular velocity at a site
        rangefinder: distance from site to nearest object along z axis
  -->
  <sensor>
    <jointpos name="elbow_angle" joint="elbow" />
    <touch name="hand_touch" site="hand" />
    <accelerometer name="hand_accel" site="hand" />
  </sensor>

  <!-- used for setting simulation states -->
  <keyframe>
    <key name="upright" qpos="0" />
  </keyframe>
</mujoco>